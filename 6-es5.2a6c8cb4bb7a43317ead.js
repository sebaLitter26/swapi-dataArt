function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{YVKM:function(e,t,a){"use strict";a.r(t),a.d(t,"CharactersModule",(function(){return $}));var n=a("ofXK"),c=a("tyNb"),i=a("sCmA"),r=a("tmTa"),o=a("R3tS"),l=a("0EUg"),s=a("cp0P"),u=a("fXoL"),m=a("yTNM"),f=a("IRfi"),p=a("A2Vd"),b=a("G/Ji"),d=a("TURh"),h=["table"];function y(e,t){1&e&&u.Ob(0,"mat-spinner")}function g(e,t){1&e&&(u.Tb(0,"th",15),u.zc(1," Name "),u.Sb())}function w(e,t){if(1&e&&(u.Tb(0,"td",16),u.zc(1),u.Sb()),2&e){var a=t.$implicit;u.Bb(1),u.Bc(" ",a.name," ")}}function C(e,t){1&e&&(u.Tb(0,"th",15),u.zc(1," Eye Color "),u.Sb())}function v(e,t){if(1&e&&(u.Tb(0,"td",16),u.zc(1),u.Sb()),2&e){var a=t.$implicit;u.xc("color",a.eye_color),u.Bb(1),u.Bc(" ",a.eye_color," ")}}function S(e,t){1&e&&(u.Tb(0,"th",15),u.zc(1," Gender "),u.Sb())}function _(e,t){if(1&e&&(u.Tb(0,"td",16),u.zc(1),u.Sb()),2&e){var a=t.$implicit;u.Bb(1),u.Bc(" ",a.gender," ")}}function k(e,t){1&e&&(u.Tb(0,"th",15),u.zc(1," Films "),u.Sb())}function O(e,t){if(1&e&&(u.Tb(0,"mat-chip"),u.zc(1),u.Sb()),2&e){var a=t.$implicit;u.Bb(1),u.Ac(a.title)}}function x(e,t){if(1&e&&(u.Tb(0,"td",16),u.Tb(1,"mat-chip-list"),u.yc(2,O,2,1,"mat-chip",17),u.Sb(),u.Sb()),2&e){var a=t.$implicit;u.Bb(2),u.kc("ngForOf",a.films)}}function R(e,t){1&e&&u.Ob(0,"tr",18)}function T(e,t){1&e&&u.Ob(0,"tr",19)}var P,D,M,z=[{path:"",component:(P=function(){function e(t,a){_classCallCheck(this,e),this.apiService=t,this.activatedRoute=a,this.showFilms=[],this.displayedColumns=["name","eye_color","gender","films"]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.film$=this.activatedRoute.snapshot.params;var t=this.activatedRoute.snapshot.params.characters.split(","),a=[];this.character$Subscription=this.getArrayRequest(t).subscribe((function(e){a.push(e)}),(function(e){return console.log("onError",e)}),(function(){e.characters=a,a.forEach((function(t,a){e.expandFilmDetails(t,a)})),console.log(e.characters),e.dataSource=new r.k(e.characters),e.table.renderRows(),e.dataSource.paginator=e.paginator}))}},{key:"expandFilmDetails",value:function(e,t){var a=this,n=[];this.films$Subscription=this.getArrayRequest(e.films).subscribe((function(e){n.push(e)}),(function(e){return console.log("onError",e)}),(function(){a.characters[t].films=n}))}},{key:"getArrayRequest",value:function(e){var t=this;return Object(s.a)(e.map((function(e){return t.apiService.sendGetRequest(e)}))).pipe(Object(l.a)())}},{key:"applyFilter",value:function(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}},{key:"ngOnDestroy",value:function(){this.character$Subscription.unsubscribe(),this.films$Subscription.unsubscribe()}}]),e}(),P.\u0275fac=function(e){return new(e||P)(u.Nb(m.a),u.Nb(c.a))},P.\u0275cmp=u.Hb({type:P,selectors:[["app-characters"]],viewQuery:function(e,t){var a;1&e&&(u.wc(i.a,!0),u.wc(o.a,!0),u.wc(h,!0)),2&e&&(u.pc(a=u.cc())&&(t.paginator=a.first),u.pc(a=u.cc())&&(t.sort=a.first),u.pc(a=u.cc())&&(t.table=a.first))},decls:23,vars:6,consts:[[4,"ngIf"],["matInput","","placeholder","Search by Name/Eye Color/Gender/Films",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["table",""],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","eye_color"],["mat-cell","",3,"color",4,"matCellDef"],["matColumnDef","gender"],["matColumnDef","films",1,"film-colum"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",4,"matRowDef","matRowDefColumns"],[3,"pageIndex","pageSize"],["mat-header-cell",""],["mat-cell",""],[4,"ngFor","ngForOf"],["mat-header-row",""],["mat-row","",1,"example-element-row"]],template:function(e,t){1&e&&(u.yc(0,y,1,0,"mat-spinner",0),u.Tb(1,"mat-form-field"),u.Tb(2,"mat-label"),u.zc(3,"Filter"),u.Sb(),u.Tb(4,"input",1),u.bc("keyup",(function(e){return t.applyFilter(e)})),u.Sb(),u.Sb(),u.Tb(5,"div",2),u.Tb(6,"table",3,4),u.Rb(8,5),u.yc(9,g,2,0,"th",6),u.yc(10,w,2,1,"td",7),u.Qb(),u.Rb(11,8),u.yc(12,C,2,0,"th",6),u.yc(13,v,2,3,"td",9),u.Qb(),u.Rb(14,10),u.yc(15,S,2,0,"th",6),u.yc(16,_,2,1,"td",7),u.Qb(),u.Rb(17,11),u.yc(18,k,2,0,"th",6),u.yc(19,x,3,1,"td",7),u.Qb(),u.yc(20,R,1,0,"tr",12),u.yc(21,T,1,0,"tr",13),u.Sb(),u.Ob(22,"mat-paginator",14),u.Sb()),2&e&&(u.kc("ngIf",t.characters&&0===t.characters.length),u.Bb(6),u.kc("dataSource",t.dataSource),u.Bb(14),u.kc("matHeaderRowDef",t.displayedColumns),u.Bb(1),u.kc("matRowDefColumns",t.displayedColumns),u.Bb(1),u.kc("pageIndex",0)("pageSize",10))},directives:[n.k,f.a,f.d,p.b,r.j,o.a,r.c,r.e,r.b,r.g,r.i,i.a,b.b,r.d,r.a,d.b,n.j,d.a,r.f,r.h],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}mat-input-element[_ngcontent-%COMP%]{color:#99a21f}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active, tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#a8bb74}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}mat-chip-list[_ngcontent-%COMP%]{width:60%;padding:4px}.film-colum[_ngcontent-%COMP%]{width:40%}"]}),P)}],B=((D=function e(){_classCallCheck(this,e)}).\u0275mod=u.Lb({type:D}),D.\u0275inj=u.Kb({factory:function(e){return new(e||D)},imports:[[c.c.forChild(z)],c.c]}),D),F=a("vvyD"),$=((M=function e(){_classCallCheck(this,e)}).\u0275mod=u.Lb({type:M}),M.\u0275inj=u.Kb({factory:function(e){return new(e||M)},imports:[[n.c,B,F.a]]}),M)}}]);