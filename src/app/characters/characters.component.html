
<div style="padding: 13px;">
  <mat-spinner *ngIf=" characters && characters.length === 0"></mat-spinner>

    <!--
      Lista de Personajes Limitar 10 personajes por página Cada Personaje en la lista
      debe mostrar las siguientes características
      Nombre
      Color de Ojos
      Género
      Lista de Films asociados al Personaje (Nombres).
      5. Considere que cada nombre del ﬁlm asociado al personaje puede mostrar el Texto con que inicia
      el ﬁlm (Mismo comportamiento a como está el requerimiento anterior)
      Se espera los siguientes Filtros
      1. Color de Ojos
      2. Género
      3. Film

    -->
    <mat-form-field>
      <mat-label>Filter</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia">
    </mat-form-field>

    <div class="mat-elevation-z8">
      <table mat-table [dataSource]="dataSource" matSort>


        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let people"> {{people.name}} </td>
        </ng-container>

        <!-- eye_color Column -->
        <ng-container matColumnDef="eye_color" >
          <th mat-header-cell *matHeaderCellDef> Eye Color </th>
          <td mat-cell *matCellDef="let people"> {{people.eye_color}} </td>
        </ng-container>

        <!-- Gender Column -->
        <ng-container matColumnDef="gender" >
          <th mat-header-cell *matHeaderCellDef> Gender </th>
          <td mat-cell *matCellDef="let people"> {{people.gender}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <mat-paginator [pageIndex]="0" [pageSize]="10" ></mat-paginator>
    </div>


    <div fxLayout="row wrap" fxLayout.xs="column" fxLayoutAlign="space-around center" fxLayoutGap="25px">

      <mat-card  *ngFor="let people of characters; let i = index" fxFlex="0 1 calc(33.3% - 32px)" fxFlex.lt-md="0 1 calc(50% - 32px)" fxFlex.lt-sm="100%">
        <mat-card-header>
            <mat-card-title (click)="showAdicional=i">{{people.name}}</mat-card-title>
            <mat-card-subtitle>
              Eye color {{people.eye_color}} | Gender {{people.gender}}
            </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content *ngIf="showAdicional==i" [@fadeInOut]>
            <p>
                {{people.opening_crawl}}
            </p>
            <img style=" width: 100%;" src="assets/giphy.webp" alt="Star Wars | {{people.name}} | Episode {{film.episode_id}}" />
        </mat-card-content>
        <mat-card-actions>
          <button mat-button > Characters</button>
        </mat-card-actions>

    </mat-card>
  </div>
</div>
